{"version":3,"sources":["client.js"],"names":["async","mostrarServices","userId","sessionStorage","getItem","branchId","myHeaders","Headers","append","resultadoUsuario","fetch","method","headers","redirect","client","json","nombreUsuario","document","querySelector","name","lastName","textContent","resultadoBranch","branch","branchName","resultadoServicios","forEach","servicio","service_name","duration","price","div_servicios","div_servicio","createElement","className","innerHTML","appendChild","addEventListener","classList","toggle","e","console","error"],"mappings":"AAIAA,eAAeC,kBACX,IAEI,MAAMC,EAASC,eAAeC,QAAQ,UAChCC,EAAWF,eAAeC,QAAQ,YAClCE,EAAY,IAAIC,QACtBD,EAAUE,OAAO,gBAAiB,oJAGlC,MAAMC,QAAyBC,MAAM,aAAaR,EAAS,CAACS,OAAQ,MAAOC,QAASN,EAAWO,SAAU,WACnGC,QAAeL,EAAiBM,OAChCC,EAAgBC,SAASC,cAAc,oBACvCC,KAAEA,EAAIC,SAAEA,GAAaN,EAC3BE,EAAcK,YAAc,GAAGF,KAAQC,IAGvC,MAAME,QAAwBZ,MAAM,eAAeL,EAAW,CAACM,OAAQ,MAAOC,QAASN,EAAWO,SAAU,WACtGU,QAAeD,EAAgBP,QAC/BS,WAAEA,GAAeD,EACAN,SAASC,cAAc,kBAC/BG,YAAc,GAAGG,EAGhC,MAAMC,QAA2Bf,MAAM,+BAA+BL,EAAW,CAACM,OAAQ,MAAOC,QAASN,EAAWO,SAAU,kBACvGY,EAAmBV,QACxB,QAAEW,QAAQC,IACzB,MAAMC,aAAEA,EAAYC,SAAEA,EAAQC,MAAEA,GAAUH,EACpCI,EAAgBd,SAASC,cAAc,cACvCc,EAAef,SAASgB,cAAc,OAC5CD,EAAaE,UAAY,WACzBF,EAAaG,UACb,uCACwBP,kDACMC,gDACNC,6BAExBC,EAAcK,YAAYJ,GAC1BA,EAAaK,iBAAiB,SAAQ,WAClCL,EAAaM,UAAUC,OAAO,8BAI1C,MAAMC,GACFC,QAAQC,MAAMF,IA/CtBvB,SAASoB,iBAAiB,oBAAoB,WAC1CpC","file":"client.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    mostrarServices();\r\n});\r\n\r\nasync function mostrarServices(){\r\n    try{\r\n\r\n        const userId = sessionStorage.getItem(\"userId\");\r\n        const branchId = sessionStorage.getItem(\"branchId\");\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKRWR1YXJkb1ZDIiwiZXhwIjoxNjcxOTA3Njg1LCJpYXQiOjE2NjkzMTU2ODV9.4UavGrx2mUlFkFbCCniji3rX4QXCMj6xedTYtm6QwtM\");\r\n        \r\n        // Obtener informacion del cliente\r\n        const resultadoUsuario = await fetch(`/api/user/${userId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const client = await resultadoUsuario.json();\r\n        const nombreUsuario = document.querySelector(\"#nombre-usuario\");\r\n        const { name, lastName } = client;\r\n        nombreUsuario.textContent = `${name} ${lastName}`;\r\n\r\n        // Obtener informacion de la sucursal\r\n        const resultadoBranch = await fetch(`/api/branch/${branchId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const branch = await resultadoBranch.json();\r\n        const { branchName } = branch;\r\n        const nombreSucursal = document.querySelector(\"#nombre-branch\");\r\n        nombreSucursal.textContent = `${branchName}`;\r\n        \r\n        // Obtener servicios de la sucursal\r\n        const resultadoServicios = await fetch(`/api/owner/servicios/branch/${branchId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const servicios = await resultadoServicios.json();\r\n        servicios[\"content\"].forEach(servicio => {\r\n            const { service_name, duration, price } = servicio;\r\n            const div_servicios = document.querySelector(\"#servicios\");\r\n            const div_servicio = document.createElement(\"div\");\r\n            div_servicio.className = \"servicio\";\r\n            div_servicio.innerHTML =\r\n            `\r\n                <p class=\"titulo\">${service_name}</p>\r\n                <p>Duracion aproximada: ${duration} min</p>\r\n                <p>Precio: <span>$${price}</span></p>\r\n            `;\r\n            div_servicios.appendChild(div_servicio);\r\n            div_servicio.addEventListener(\"click\",function(){\r\n                div_servicio.classList.toggle(\"servicio-seleccionado\");\r\n            });\r\n        });\r\n    }\r\n    catch(e){\r\n        console.error(e);\r\n    }\r\n}"]}