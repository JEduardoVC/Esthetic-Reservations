const userId=sessionStorage.getItem("userId"),branchId=sessionStorage.getItem("branchId"),myHeaders=new Headers;async function getAppointment(){const e=await fetch("/api/appointment/usuario/"+userId,{method:"GET",headers:myHeaders,redirect:"follow"}),n=await e.json(),t=document.querySelector("#appointment");n.content.forEach(e=>{const{id_branch:n,id_service:a,appointment_date:o,appointmnet_time:p,id:c}=e,{location:i,branchName:r,owner:s}=n,{name:d}=s;let m="";a.forEach(e=>{let{service_name:n}=e;m+=`<br><span>&nbsp;&nbsp;${n}</span>`});const u=document.createElement("div");u.innerHTML=`\n            <p>Sucursal:<span> ${r}</span></p>\n            <p>Encargada:<span> ${d}</span></p>\n            <p>Ubicaci√≥n:<span> ${i}</span></p>\n            <p>Fecha y hora:<span> ${o} : ${p}</span></p>\n            <p>Servicios: ${m}</p>\n            <p>Status:<span> Pendiente</span></p>\n            <div>\n                <button type="button" id="btn-update-${c}" name=${c}>Editar reservacion</button>\n                <button type="button" id="btn-cancel-${c}" name=${c}>Cancelar</button>\n            </div>\n            <hr>\n        `,t.appendChild(u),document.querySelector("#btn-update-"+c).addEventListener("click",update),document.querySelector("#btn-cancel-"+c).addEventListener("click",cancel)})}function update(e){console.log(e.target.name),id=e.target.name,sessionStorage.setItem("appoitment",id),location.href="/app/client/appointment/update"}function cancel(e){id=e.target.name,console.log(e.target.name)}myHeaders.append("Authorization","Bearer "+sessionStorage.getItem("token")),document.addEventListener("DOMContentLoaded",(function(){getAppointment()}));
//# sourceMappingURL=client_appointment.js.map
