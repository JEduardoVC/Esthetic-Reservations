var map;async function mostrarBranch(){try{const e=await fetch("/api/branch/all",{method:"GET"}),n=await e.json(),t=getCookie();if(n.content.forEach(e=>{let{location:n,branchName:t}=e,{email:a,name:o,lastName:c}=e.owner;const s=document.querySelector("#sucursal"),l=document.createElement("div");l.className="sucursal-contenido";const i=document.createElement("div");i.className="nombre";const r=document.createElement("div");r.id="info",r.className="info";const d=document.createElement("h1");d.textContent=t,i.appendChild(d),l.appendChild(i),r.innerHTML=`\n                <p>Nombre de la encargada: <span>${o} ${c}</span></p>\n                <p>Email: <span>${a}</span></p>\n                <p>Direccion: <span>${n}</span></p>\n            `;const m=document.createElement("div");m.id="seleccionar",m.className="seleccionar-no-sucursal";const p=document.createElement("form");p.action="/app/client",p.method="GET";const u=document.createElement("button");u.className="btn-secundario",u.textContent="Seleccionar",u.type="button",p.appendChild(u),m.appendChild(p),r.appendChild(m),l.appendChild(r);const h=document.createElement("div");h.className="mapa",map=new google.maps.Map(h,{center:{lat:21.14197073516805,lng:-100.31784830972968},zoom:15});new google.maps.Marker({position:{lat:21.14197073516805,lng:-100.31784830972968},map:map,title:t});l.appendChild(h),s.appendChild(l)}),t){const e=document.cookie.split(";"),n=e[0].split("=")[1],t=e[1].split("=")[1],a=new Headers;a.append("Authorization","Bearer "+t);const o=document.querySelector("#seleccionar"),c=await fetch("/api/user/"+n,{method:"GET",headers:a,redirect:"follow"}),s=await c.json(),{name:l,lastName:i}=s,r=document.querySelector("#nombreUsuario");o.classList.remove("seleccion-no-sucursal"),o.classList.add("seleccion-sucursal"),r.textContent=`${l} ${i}`}}catch(e){console.error(e)}}function getCookie(){return 4==document.cookie.split(";")[2].split("=")[1]}document.addEventListener("DOMContentLoaded",(function(){mostrarBranch()}));
//# sourceMappingURL=branch.js.map
