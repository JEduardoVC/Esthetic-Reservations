{"version":3,"sources":["client_services_products.js"],"names":["cita","userId","branchId","fecha","hora","servicios","carrito","productos","contador","page","cantidad","sessionStorage","getItem","myHeaders","Headers","async","showInfoClient","resultadoUsuario","fetch","method","headers","redirect","client","json","nameUser","document","querySelector","name","lastName","textContent","showInfoBranch","resultadoBranch","branch","branchName","showServices","resultadoServicios","div_servicios","sinServicios","createElement","className","appendChild","forEach","servicio","id","service_name","duration","price","div_servicio","innerHTML","addEventListener","classList","contains","remove","removeService","add","addService","parseInt","e","console","error","showInventory","resultInventory","inventory","div_productos","noInventory","inventario","showProducts","product","imagen","inventory_name","store","div_product","removeProduct","addProduct","filter","servicioObj","producto","productoObj","nextPage","pagerButtons","previousPage","previosPage","selectQuantity","showSummary","mostrarSeccion","seccionAnterior","backDateDisabled","inputFecha","fechaAhora","Date","fechaDeshabilitar","getFullYear","getMonth","getDate","min","horaCita","inputHora","target","value","split","scheduleOpen","scheduleClose","setTimeout","fechaCita","fechaInput","dia","getUTCDay","includes","preventDefault","mostrarAlerta","resumenDiv","firstChild","removeChild","Object","values","noServicios","length","noProductos","headingCita","serviciosCita","headingServicios","service","contenedorServicio","textoServicio","precioServicio","headingCarrito","productosCarrito","cont","resultProductSelected","productSelected","contenedorproducto","textoproducto","precioproducto","contenedorPrecios","input","quantity","subtotal","cantidadPagar","pay","btnReserve","onclick","makeAnAppointment","select","layout","text","type","mostrarResumenProducts","makeAPurcharse","log","append"],"mappings":"AAAA,MAAMA,KAAO,CACTC,OAAQ,GACRC,SAAU,GACVC,MAAO,GACPC,KAAM,GACNC,UAAW,IAGTC,QAAU,CACZL,OAAO,GACPC,SAAS,GACTK,UAAW,IAGf,IAAIC,SAAW,EAEXC,KAAO,EAEPC,SAAW,EAEf,MAAMT,OAASU,eAAeC,QAAQ,UAChCV,SAAWS,eAAeC,QAAQ,YAClCC,UAAY,IAAIC,QA8BtBC,eAAeC,iBACX,MAAMC,QAAyBC,MAAM,aAAajB,OAAS,CAACkB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACnGC,QAAeL,EAAiBM,OAChCC,EAAWC,SAASC,cAAc,oBAClCC,KAAEA,EAAIC,SAAEA,GAAaN,EAC3BE,EAASK,YAAc,GAAGF,KAAQC,IAGtCb,eAAee,iBACX,MAAMC,QAAwBb,MAAM,eAAehB,SAAW,CAACiB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACtGW,QAAeD,EAAgBR,QAC/BU,WAAEA,GAAeD,EACJP,SAASC,cAAc,kBAC/BG,YAAc,GAAGI,EAGhClB,eAAemB,eACX,IACI,MAAMC,QAA2BjB,MAAM,+BAA+BhB,SAAW,CAACiB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACzHhB,QAAkB8B,EAAmBZ,OAC3C,GAA2B,GAAxBlB,EAAmB,QAAO,CACzB,MAAM+B,EAAgBX,SAASC,cAAc,cACvCW,EAAeZ,SAASa,cAAc,KAC5CD,EAAaR,YAAc,+BAC3BQ,EAAaE,UAAY,gBACzBH,EAAcI,YAAYH,GAE9BhC,EAAmB,QAAEoC,QAAQC,IACzB,MAAMC,GAAEA,EAAEC,aAAEA,EAAYC,SAAEA,EAAQC,MAAEA,GAAUJ,EACxCN,EAAgBX,SAASC,cAAc,cACvCqB,EAAetB,SAASa,cAAc,OAC5CS,EAAaR,UAAY,WACzBQ,EAAaC,UACb,uCACwBJ,kDACMC,gDACNC,6BAExBV,EAAcI,YAAYO,GAC1BA,EAAaE,iBAAiB,SAAQ,WAClC,GAAGF,EAAaG,UAAUC,SAAS,yBAC/BJ,EAAaG,UAAUE,OAAO,yBAC9BC,cAAcV,OACX,CACHI,EAAaG,UAAUI,IAAI,yBAI3BC,WAHoB,CAChBZ,GAAIa,SAASb,WAOjC,MAAMc,GACFC,QAAQC,MAAMF,IAItB1C,eAAe6C,gBACX,MAAMC,QAAwB3C,MAAM,gCAAgChB,SAAW,CAACiB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACvHyC,QAAkBD,EAAgBtC,OACxC,GAA2B,GAAxBuC,EAAmB,QAAO,CACzB,MAAMC,EAAgBtC,SAASa,cAAc,OACvC0B,EAAcvC,SAASa,cAAc,KAC3C0B,EAAYnC,YAAc,qCAC1BmC,EAAYzB,UAAY,gBACxBwB,EAAcvB,YAAYwB,OACvB,CACH,MAAMC,EAAaxC,SAASC,cAAc,aACpCwC,EAAezC,SAASa,cAAc,OAC5C4B,EAAahB,UAAUI,IAAI,mBAC3BQ,EAAmB,QAAErB,QAAQ0B,IACzB,MAAMxB,GAACA,EAAEyB,OAAEA,EAAMC,eAAEA,EAAcvB,MAAEA,EAAKwB,MAAEA,GAASH,EAC7CI,EAAc9C,SAASa,cAAc,OAC3CiC,EAAYhC,UAAY,WACxBgC,EAAYvB,UAAY,6CACMoB,sDACIC,4CACVvB,oDACCwB,6BAEzBJ,EAAa1B,YAAY+B,GACzBA,EAAYtB,iBAAiB,SAAQ,WACjC,GAAGsB,EAAYrB,UAAUC,SAAS,yBAC9BoB,EAAYrB,UAAUE,OAAO,yBAC7BoB,cAAc7B,OACX,CACH4B,EAAYrB,UAAUI,IAAI,yBAI1BmB,WAHoB,CAChB9B,GAAIa,SAASb,WAM7BsB,EAAWzB,YAAY0B,IAI/B,SAASb,cAAcV,GACnB,MAAMtC,UAAEA,GAAcL,KACtBA,KAAKK,UAAYA,EAAUqE,OAAOhC,GAAYA,EAASC,KAAOA,GAGlE,SAASY,WAAWoB,GAChB,MAAMtE,UAAEA,GAAcL,KACtBA,KAAKK,UAAY,IAAIA,EAAWsE,GAGpC,SAASH,cAAc7B,GACnB,MAAMpC,UAAEA,GAAcD,QACtBA,QAAQC,UAAYA,EAAUmE,OAAOE,GAAYA,EAASjC,KAAOA,GAGrE,SAAS8B,WAAWI,GAChB,MAAMtE,UAAEA,GAAcD,QACtBA,QAAQC,UAAY,IAAIA,EAAWsE,GAGvC,SAASC,WACL,MAAMA,EAAWrD,SAASC,cAAc,cACzB,MAAZoD,GACCA,EAAS7B,iBAAiB,QAAS,KAC/BxC,OACAsE,iBAKZ,SAASC,eACL,MAAMA,EAAevD,SAASC,cAAc,aACzB,MAAhBsD,GACCA,EAAa/B,iBAAiB,QAAS,KACnCxC,OACAsE,iBAKZ,SAASA,eACL,MAAMD,EAAWrD,SAASC,cAAc,cAClCuD,EAAcxD,SAASC,cAAc,aAC9B,IAATjB,KACAwE,EAAY/B,UAAUI,IAAI,WACX,IAAT7C,MACNwE,EAAY/B,UAAUE,OAAO,WAC7B0B,EAAS5B,UAAUE,OAAO,YACZ,IAAT3C,MACLwE,EAAY/B,UAAUE,OAAO,WAC7B0B,EAAS5B,UAAUE,OAAO,WAC1B8B,kBACe,IAATzE,MACNwE,EAAY/B,UAAUE,OAAO,WAC7B0B,EAAS5B,UAAUE,OAAO,aAE1B0B,EAAS5B,UAAUI,IAAI,WACvB2B,EAAY/B,UAAUE,OAAO,WAC7B+B,eAEJC,iBAGJ,SAASA,iBAEL,MAAMC,EAAkB5D,SAASC,cAAc,oBAC3C2D,GACAA,EAAgBnC,UAAUE,OAAO,mBAEf3B,SAASC,cAAc,SAASjB,MACxCyC,UAAUI,IAAI,mBAGhC,SAASgC,mBACL,MAAMC,EAAa9D,SAASC,cAAc,UAEpC8D,EAAa,IAAIC,KAIjBC,EAAoB,GAHbF,EAAWG,iBACZH,EAAWI,WAAa,KACxBJ,EAAWK,UAAY,IAGnCN,EAAWO,IAAMJ,EAGrB3E,eAAegF,WACX,MAAMhE,QAAwBb,MAAM,eAAehB,SAAW,CAACiB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACtGW,QAAeD,EAAgBR,OAC/ByE,EAAYvE,SAASC,cAAc,SACzCsE,EAAU/C,iBAAiB,QAASQ,IAChC,MAAMsC,EAAWtC,EAAEwC,OAAOC,MACpB9F,EAAO2F,EAASI,MAAM,MACtBC,aAAEA,EAAYC,cAAEA,GAAkBrE,EACrC5B,EAAK,IAAMgG,EAAaD,MAAM,KAAK,IAAM/F,EAAK,IAAMgG,EAAaD,MAAM,KAAK,GAC3EnG,KAAKI,KAAO2F,GAEZrC,QAAQC,MAAM,mBACd2C,WAAW,KACPN,EAAUE,MAAQ,IACnB,QAKf,SAASK,YACL,MAAMC,EAAa/E,SAASC,cAAc,UAC1C8E,EAAWvD,iBAAiB,QAASQ,IACjC,MAAMgD,EAAM,IAAIhB,KAAKhC,EAAEwC,OAAOC,OAAOQ,YACjC,CAAC,EAAG,GAAGC,SAASF,IAChBhD,EAAEmD,iBACFJ,EAAWN,MAAQ,GACnBW,cAAc,oCAAqC,UAEnD7G,KAAKG,MAAQqG,EAAWN,QAKpC,SAASf,cACLnF,KAAKC,OAASA,OACdD,KAAKE,SAAWA,SAChBI,QAAQL,OAASA,OACjBK,QAAQJ,SAAWA,SAEnB,MAAMG,UAACA,EAASF,MAAEA,EAAKC,KAAEA,GAAQJ,MAC3BO,UAACA,GAAaD,QAGdwG,EAAarF,SAASC,cAAc,YAG1C,KAAOoF,EAAWC,YACdD,EAAWE,YAAYF,EAAWC,YAGtC,GAAIE,OAAOC,OAAOlH,MAAM2G,SAAS,IAAK,CAClC,MAAMQ,EAAc1F,SAASa,cAAc,KAI3C,OAHA6E,EAAYtF,YAAc,yCAC1BsF,EAAYjE,UAAUI,IAAI,uBAC1BwD,EAAWtE,YAAY2E,GAEpB,GAAmC,GAA/B7G,QAAmB,UAAE8G,OAAa,CACzC,MAAMC,EAAc5F,SAASa,cAAc,KAI3C,OAHA+E,EAAYxF,YAAc,mCAC1BwF,EAAYnE,UAAUI,IAAI,0BAC1BwD,EAAWtE,YAAY6E,GAI3B,MAAMC,EAAc7F,SAASa,cAAc,MAC3CgF,EAAYzF,YAAc,kBAG1B,MAAM0E,EAAY9E,SAASa,cAAc,KACzCiE,EAAUvD,UAAY,uBAAuB7C,EAE7C,MAAM4F,EAAWtE,SAASa,cAAc,KACxCyD,EAAS/C,UAAY,sBAAsB5C,EAE3C,MAAMmH,EAAgB9F,SAASa,cAAc,OAC7CiF,EAAcrE,UAAUI,IAAI,qBAE5B,MAAMkE,EAAmB/F,SAASa,cAAc,MAChDkF,EAAiB3F,YAAc,uBAE/B0F,EAAc/E,YAAYgF,GAE1B9G,SAAW,EAGXL,EAAUoC,QAAQ1B,MAAAA,IACd,MAAM4B,GAACA,GAAMD,EACPP,QAA2BjB,MAAM,wBAAwByB,EAAK,CAACxB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WAC5GoG,QAAgBtF,EAAmBZ,QACnCqB,aAACA,EAAYE,MAAEA,GAAS2E,EACxBC,EAAqBjG,SAASa,cAAc,OAClDoF,EAAmBxE,UAAUI,IAAI,uBAEjC,MAAMqE,EAAgBlG,SAASa,cAAc,KAC7CqF,EAAc9F,YAAce,EAE5B,MAAMgF,EAAiBnG,SAASa,cAAc,KAC9CsF,EAAe/F,YAAc,IAAMiB,EACnC8E,EAAe1E,UAAUI,IAAI,UAC7B5C,UAAYoC,EAGZ4E,EAAmBlF,YAAYmF,GAC/BD,EAAmBlF,YAAYoF,GAE/BL,EAAc/E,YAAYkF,KAE9BZ,EAAWtE,YAAY8E,GACvBR,EAAWtE,YAAY+D,GACvBO,EAAWtE,YAAYuD,GAEvBe,EAAWtE,YAAY+E,GAEvB,MAAMM,EAAiBpG,SAASa,cAAc,MAC9CuF,EAAehG,YAAc,sBAG7B,MAAMiG,EAAmBrG,SAASa,cAAc,OAChDwF,EAAiB5E,UAAUI,IAAI,qBAC/BwE,EAAiBtF,YAAYqF,GAC7B,IAAIE,EAAO,EAEXxH,EAAUkC,QAAQ1B,MAAAA,IACd,MAAM4B,GAACA,GAAMiC,EAEPoD,QAA8B9G,MAAM,yBAAyByB,EAAK,CAACxB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WAChH4G,QAAwBD,EAAsBzG,QAE9C8C,eAACA,EAAcvB,MAAEA,GAASmF,EAE1BC,EAAqBzG,SAASa,cAAc,OAClD4F,EAAmBhF,UAAUI,IAAI,uBAEjC,MAAM6E,EAAgB1G,SAASa,cAAc,KAC7C6F,EAActG,YAAcwC,EAE5B,MAAM+D,EAAiB3G,SAASa,cAAc,KAC9C8F,EAAevG,YAAc,IAAMiB,EACnCsF,EAAelF,UAAUI,IAAI,UAG7B4E,EAAmB1F,YAAY2F,GAC/BD,EAAmB1F,YAAY4F,GAE/B,MAAMC,EAAoB5G,SAASa,cAAc,OACjD+F,EAAkBnF,UAAUI,IAAI,qBAEhC,MAAMgF,EAAQ7G,SAASC,cAAc,qBAAuBqG,GAEtDQ,EAAW9G,SAASa,cAAc,KACxCiG,EAAS1G,YAAc,0BAA4ByG,EAAMpC,MAEzD,MAAMsC,EAAW/G,SAASa,cAAc,KACxCkG,EAAS3G,YAAa,aAAeiB,EAAMwF,EAAMpC,MACjDxF,UAAYoC,EAAMwF,EAAMpC,MACxBmC,EAAkB7F,YAAY+F,GAC9BF,EAAkB7F,YAAYgG,GAE9BV,EAAiBtF,YAAY0F,GAC7BJ,EAAiBtF,YAAY6F,GAC7BN,MAGJ,MAAMU,EAAgBC,MAEtB5B,EAAWtE,YAAYsF,GACvBhB,EAAWtE,YAAYiG,GACvB/H,SAAW,EAEX,MAAMiI,EAAalH,SAASa,cAAc,UAC1CqG,EAAWzF,UAAUI,IAAI,iBACzBqF,EAAWzF,UAAUI,IAAI,gBACzBqF,EAAW9G,YAAc,kBACzB8G,EAAWC,QAAUC,kBAErB/B,EAAWtE,YAAYmG,GAG3B5H,eAAemE,iBACX,MAAM4D,EAASrH,SAASC,cAAc,iBAEtC,KAAOoH,EAAO/B,YACV+B,EAAO9B,YAAY8B,EAAO/B,YAE9B,IAAIgB,EAAO,EACXzH,QAAmB,UAAEmC,QAAQ1B,MAAAA,IACzB,MAAM4B,GAACA,GAAMwB,EACP6D,QAA8B9G,MAAM,yBAAyByB,EAAK,CAACxB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WAChH4G,QAAwBD,EAAsBzG,QAC9C8C,eAACA,GAAkB4D,EACnBc,EAAStH,SAASa,cAAc,OACtCyG,EAAO7F,UAAUI,IAAI,gBACrB,MAAM0F,EAAOvH,SAASa,cAAc,KACpC0G,EAAKnH,YAAcwC,EACnB,MAAMiE,EAAQ7G,SAASa,cAAc,SACrCgG,EAAMW,KAAO,SACbX,EAAM3F,GAAK,oBAAsBoF,EACjCgB,EAAOvG,YAAYwG,GACnBD,EAAOvG,YAAY8F,GACnBQ,EAAOtG,YAAYuG,GACnBhB,MAIRhH,eAAemI,yBAEX,MAAM3I,UAACA,GAAaD,QAGdwG,EAAarF,SAASC,cAAc,YAG1C,KAAOoF,EAAWC,YACdD,EAAWE,YAAYF,EAAWC,YAGtC,GAAmC,GAA/BzG,QAAmB,UAAE8G,OAAa,CAClC,MAAMC,EAAc5F,SAASa,cAAc,KAW3C,OAVA+E,EAAYxF,YAAc,mCAC1BwF,EAAYnE,UAAUI,IAAI,0BAG1BwD,EAAWtE,YAAY6E,GAS3B,MAAMQ,EAAiBpG,SAASa,cAAc,MAC9CuF,EAAehG,YAAc,sBAG7B,MAAMiG,EAAmBrG,SAASa,cAAc,OAChDwF,EAAiB5E,UAAUI,IAAI,qBAC/BwE,EAAiBtF,YAAYqF,GAC7B,IAAIE,EAAO,EAEXxH,EAAUkC,QAAQ1B,MAAAA,IACd,MAAM4B,GAACA,GAAMiC,EAEPoD,QAA8B9G,MAAM,yBAAyByB,EAAK,CAACxB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WAChH4G,QAAwBD,EAAsBzG,QAE9C8C,eAACA,EAAcvB,MAAEA,GAASmF,EAE1BC,EAAqBzG,SAASa,cAAc,OAClD4F,EAAmBhF,UAAUI,IAAI,uBAEjC,MAAM6E,EAAgB1G,SAASa,cAAc,KAC7C6F,EAActG,YAAcwC,EAE5B,MAAM+D,EAAiB3G,SAASa,cAAc,KAC9C8F,EAAevG,YAAc,IAAMiB,EACnCsF,EAAelF,UAAUI,IAAI,UAG7B4E,EAAmB1F,YAAY2F,GAC/BD,EAAmB1F,YAAY4F,GAE/B,MAAMC,EAAoB5G,SAASa,cAAc,OACjD+F,EAAkBnF,UAAUI,IAAI,qBAEhC,MAAMgF,EAAQ7G,SAASC,cAAc,qBAAuBqG,GAEtDQ,EAAW9G,SAASa,cAAc,KACxCiG,EAAS1G,YAAc,0BAA4ByG,EAAMpC,MAEzD,MAAMsC,EAAW/G,SAASa,cAAc,KACxCkG,EAAS3G,YAAa,aAAeiB,EAAMwF,EAAMpC,MACjDxF,UAAYoC,EAAMwF,EAAMpC,MACxBmC,EAAkB7F,YAAY+F,GAC9BF,EAAkB7F,YAAYgG,GAE9BV,EAAiBtF,YAAY0F,GAC7BJ,EAAiBtF,YAAY6F,GAC7BN,MAGJ,MAAMU,EAAgBC,MAEtB5B,EAAWtE,YAAYsF,GACvBhB,EAAWtE,YAAYiG,GACvB/H,SAAW,EAEX,MAAMiI,EAAalH,SAASa,cAAc,UAC1CqG,EAAWzF,UAAUI,IAAI,iBACzBqF,EAAWzF,UAAUI,IAAI,gBACzBqF,EAAW9G,YAAc,kBACzB8G,EAAWC,QAAUC,kBAErB/B,EAAWtE,YAAYmG,GAG3B,SAASD,MACL,MAAMD,EAAgBhH,SAASa,cAAc,KAK7C,OAJAmG,EAAcvF,UAAUI,IAAI,SAC5BgD,WAAW,KACPmC,EAAczF,UAAY,kCAAkCtC,UAC7D,IACI+H,EAGX1H,eAAe8H,oBACX,IACInF,QAAQC,MAAM3D,YACckB,MAAM,aAAajB,OAAS,CAACkB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACtG8H,iBACF,MAAM1F,GACJC,QAAQ0F,IAAI3F,IAGpB1C,eAAeoI,iBACX,IACIzF,QAAQC,MAAMrD,eACcY,MAAM,aAAajB,OAAS,CAACkB,OAAQ,MAAOC,QAASP,UAAWQ,SAAU,WACxG,MAAOoC,GACLC,QAAQ0F,IAAI3F,IAphBpB5C,UAAUwI,OAAO,gBAAiB,UAAU1I,eAAeC,QAAQ,UAEnEa,SAASwB,iBAAiB,oBAAoB,WAE1CjC,iBACAc,iBAGAI,eACA0B,gBAGAwB,iBAGAN,WACAE,eAGAD,eAGAO,mBACAS,WACAQ","file":"client_services_products.js","sourcesContent":["const cita = {\r\n    userId: '',\r\n    branchId: '',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\n\r\nconst carrito = {\r\n    userId:'',\r\n    branchId:'',\r\n    productos: []\r\n}\r\n\r\nlet contador = 0;\r\n\r\nlet page = 1;\r\n\r\nlet cantidad = 0;\r\n\r\nconst userId = sessionStorage.getItem(\"userId\");\r\nconst branchId = sessionStorage.getItem(\"branchId\");\r\nconst myHeaders = new Headers();\r\nmyHeaders.append(\"Authorization\", `Bearer ${sessionStorage.getItem(\"token\")}` );\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    // Show info for nav\r\n    showInfoClient();\r\n    showInfoBranch();\r\n    \r\n    // Show services\r\n    showServices();\r\n    showInventory();\r\n\r\n    // Show seccion \r\n    mostrarSeccion()\r\n    \r\n    // Buttons\r\n    nextPage();\r\n    previousPage();\r\n\r\n    // Paginator\r\n    pagerButtons();\r\n\r\n    // Date and hour\r\n    backDateDisabled();\r\n    horaCita();\r\n    fechaCita();\r\n\r\n    //Show summary of the cita\r\n    //mostrarResumen();\r\n});\r\nasync function showInfoClient(){\r\n    const resultadoUsuario = await fetch(`/api/user/${userId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n    const client = await resultadoUsuario.json();\r\n    const nameUser = document.querySelector(\"#nombre-usuario\");\r\n    const { name, lastName } = client;\r\n    nameUser.textContent = `${name} ${lastName}`;\r\n}\r\n\r\nasync function showInfoBranch(){\r\n    const resultadoBranch = await fetch(`/api/branch/${branchId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n    const branch = await resultadoBranch.json();\r\n    const { branchName } = branch;\r\n    const nameBranch = document.querySelector(\"#nombre-branch\");\r\n    nameBranch.textContent = `${branchName}`;\r\n}\r\n\r\nasync function showServices(){\r\n    try{\r\n        const resultadoServicios = await fetch(`/api/owner/servicios/branch/${branchId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const servicios = await resultadoServicios.json();\r\n        if(servicios[\"content\"] == 0){\r\n            const div_servicios = document.querySelector(\"#servicios\");\r\n            const sinServicios = document.createElement(\"P\");\r\n            sinServicios.textContent = \"No hay servicios registrados\"\r\n            sinServicios.className = \"sin-contenido\";\r\n            div_servicios.appendChild(sinServicios)\r\n        }\r\n        servicios[\"content\"].forEach(servicio => {\r\n            const { id, service_name, duration, price } = servicio;\r\n            const div_servicios = document.querySelector(\"#servicios\");\r\n            const div_servicio = document.createElement(\"div\");\r\n            div_servicio.className = \"servicio\";\r\n            div_servicio.innerHTML =\r\n            `\r\n                <p class=\"titulo\">${service_name}</p>\r\n                <p>Duracion aproximada: ${duration} min</p>\r\n                <p>Precio: <span>$${price}</span></p>\r\n            `;\r\n            div_servicios.appendChild(div_servicio);\r\n            div_servicio.addEventListener(\"click\",function(){\r\n                if(div_servicio.classList.contains(\"servicio-seleccionado\")){\r\n                    div_servicio.classList.remove(\"servicio-seleccionado\");\r\n                    removeService(id);\r\n                } else {\r\n                    div_servicio.classList.add(\"servicio-seleccionado\");\r\n                    const servicioObj = {\r\n                        id: parseInt(id)\r\n                    }\r\n                    addService(servicioObj);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    catch(e){\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nasync function showInventory(){\r\n    const resultInventory = await fetch(`/api/owner/inventario/branch/${branchId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n    const inventory = await resultInventory.json();\r\n    if(inventory[\"content\"] == 0){\r\n        const div_productos = document.createElement(\"div\");\r\n        const noInventory = document.createElement(\"P\");\r\n        noInventory.textContent = \"No hay inventario en esta sucursal\"\r\n        noInventory.className = \"sin-contenido\";\r\n        div_productos.appendChild(noInventory)\r\n    } else {\r\n        const inventario = document.querySelector(\"#products\");\r\n        const showProducts = document.createElement(\"div\");\r\n        showProducts.classList.add(\"show-inventario\");\r\n        inventory[\"content\"].forEach(product => {\r\n            const {id, imagen, inventory_name, price, store} = product;\r\n            const div_product = document.createElement(\"div\");\r\n            div_product.className = \"producto\";\r\n            div_product.innerHTML = `\r\n                <p class=\"img-producto\">${imagen}</p>\r\n                <p class=\"titulo\">Producto: ${inventory_name}</p>\r\n                <p>Precio: <span>$${price}</span></p>\r\n                <p>Cantidad: <span>${store}</span></p>\r\n            `;\r\n            showProducts.appendChild(div_product);\r\n            div_product.addEventListener(\"click\",function(){\r\n                if(div_product.classList.contains(\"producto-seleccionado\")){\r\n                    div_product.classList.remove(\"producto-seleccionado\");\r\n                    removeProduct(id);\r\n                } else {\r\n                    div_product.classList.add(\"producto-seleccionado\");\r\n                    const servicioObj = {\r\n                        id: parseInt(id)\r\n                    }\r\n                    addProduct(servicioObj);\r\n                }\r\n            });\r\n        })\r\n        inventario.appendChild(showProducts);\r\n    }\r\n}\r\n\r\nfunction removeService(id) {\r\n    const { servicios } = cita;\r\n    cita.servicios = servicios.filter(servicio => servicio.id !== id);\r\n}\r\n\r\nfunction addService(servicioObj) {\r\n    const { servicios } = cita;\r\n    cita.servicios = [...servicios, servicioObj];\r\n}\r\n\r\nfunction removeProduct(id) {\r\n    const { productos } = carrito;\r\n    carrito.productos = productos.filter(producto => producto.id !== id);\r\n}\r\n\r\nfunction addProduct(productoObj) {\r\n    const { productos } = carrito;\r\n    carrito.productos = [...productos, productoObj];\r\n}\r\n\r\nfunction nextPage() {\r\n    const nextPage = document.querySelector(`#siguiente`);\r\n    if(nextPage != null){\r\n        nextPage.addEventListener(\"click\", () =>{\r\n            page++;\r\n            pagerButtons();\r\n        })\r\n    }\r\n}\r\n\r\nfunction previousPage() {\r\n    const previousPage = document.querySelector(`#anterior`);\r\n    if(previousPage != null){\r\n        previousPage.addEventListener(\"click\", () =>{\r\n            page--;\r\n            pagerButtons();\r\n        })\r\n    }\r\n}\r\n\r\nfunction pagerButtons(){\r\n    const nextPage = document.querySelector(\"#siguiente\");\r\n    const previosPage = document.querySelector(\"#anterior\");\r\n    if (page === 1) {\r\n        previosPage.classList.add('ocultar');\r\n    }else if (page === 2) {\r\n        previosPage.classList.remove('ocultar');\r\n        nextPage.classList.remove('ocultar');\r\n    }else if(page === 3 ){\r\n        previosPage.classList.remove('ocultar');\r\n        nextPage.classList.remove('ocultar');\r\n        selectQuantity();\r\n    } else if(page === 4){\r\n        previosPage.classList.remove('ocultar');\r\n        nextPage.classList.remove('ocultar');\r\n    } else {\r\n        nextPage.classList.add('ocultar');\r\n        previosPage.classList.remove('ocultar');\r\n        showSummary(); // Estamos en la página 3, carga el resumen de la cita\r\n    }\r\n    mostrarSeccion(); // Cambia la sección que se muestra por la de la página\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n    // Eliminar mostrar-seccion de la sección anterior\r\n    const seccionAnterior = document.querySelector('.mostrar-seccion');\r\n    if (seccionAnterior) {\r\n        seccionAnterior.classList.remove('mostrar-seccion');\r\n    }\r\n    const seccionActual = document.querySelector(`#paso-${page}`);\r\n    seccionActual.classList.add('mostrar-seccion');\r\n}\r\n\r\nfunction backDateDisabled() {\r\n    const inputFecha = document.querySelector('#fecha');\r\n\r\n    const fechaAhora = new Date();\r\n    const year = fechaAhora.getFullYear();\r\n    const mes = fechaAhora.getMonth() + 1;\r\n    const dia = fechaAhora.getDate() + 1;\r\n    const fechaDeshabilitar = `${year}-${mes}-${dia}`;\r\n\r\n    inputFecha.min = fechaDeshabilitar;\r\n}\r\n\r\nasync function horaCita() {\r\n    const resultadoBranch = await fetch(`/api/branch/${branchId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n    const branch = await resultadoBranch.json();\r\n    const inputHora = document.querySelector('#hora');\r\n    inputHora.addEventListener('input', e => {\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(':');\r\n        const { scheduleOpen, scheduleClose } = branch;\r\n        if(hora[0] >= scheduleOpen.split(\":\")[0] && hora[1] >= scheduleOpen.split(\":\")[1]) {\r\n            cita.hora = horaCita;\r\n        } else {\r\n            console.error(\"Es muy temprano\");\r\n            setTimeout(() => {\r\n                inputHora.value = '';\r\n            }, 3000);\r\n        }\r\n    });\r\n}\r\n\r\nfunction fechaCita() {\r\n    const fechaInput = document.querySelector('#fecha');\r\n    fechaInput.addEventListener('input', e => {\r\n        const dia = new Date(e.target.value).getUTCDay();\r\n        if ([0, 6].includes(dia)) {\r\n            e.preventDefault();\r\n            fechaInput.value = '';\r\n            mostrarAlerta('Fines de Semana no son permitidos', 'error');\r\n        } else {\r\n            cita.fecha = fechaInput.value;\r\n        }\r\n    })\r\n}\r\n\r\nfunction showSummary() {\r\n    cita.userId = userId;\r\n    cita.branchId = branchId;\r\n    carrito.userId = userId;\r\n    carrito.branchId = branchId;\r\n    // Destructuring\r\n    const {servicios, fecha, hora} = cita;\r\n    const {productos} = carrito;\r\n\r\n    // Seleccionar el resumen\r\n    const resumenDiv = document.querySelector('#resumen');\r\n    \r\n    // Limpia el HTML previo\r\n    while (resumenDiv.firstChild) {\r\n        resumenDiv.removeChild(resumenDiv.firstChild);\r\n    }\r\n    // validación de objeto\r\n    if (Object.values(cita).includes('')) {\r\n        const noServicios = document.createElement('P');\r\n        noServicios.textContent = 'Faltan datos de Servicios, hora, fecha';\r\n        noServicios.classList.add('invalidar-cita');\r\n        resumenDiv.appendChild(noServicios);\r\n        return;\r\n    } else if (carrito[\"productos\"].length == 0) {\r\n        const noProductos = document.createElement('P');\r\n        noProductos.textContent = 'Falta seleccionar algun producto';\r\n        noProductos.classList.add('invalidar-carrito');\r\n        resumenDiv.appendChild(noProductos);\r\n        return;\r\n    }\r\n\r\n    const headingCita = document.createElement('H1');\r\n    headingCita.textContent = 'Resumen de cita';\r\n\r\n    // Mostrar el resumen\r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fecha}`;\r\n\r\n    const horaCita = document.createElement('P');\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora}`;\r\n\r\n    const serviciosCita = document.createElement('DIV');\r\n    serviciosCita.classList.add('resumen-servicios');\r\n\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'Resumen de Servicios';\r\n\r\n    serviciosCita.appendChild(headingServicios);\r\n\r\n    cantidad = 0;\r\n\r\n    // Iterar sobre el arreglo de servicios\r\n    servicios.forEach(async servicio => {\r\n        const {id} = servicio;\r\n        const resultadoServicios = await fetch(`/api/owner/servicios/${id}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const service = await resultadoServicios.json();\r\n        const {service_name, price} = service;\r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P');\r\n        textoServicio.textContent = service_name;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.textContent = \"$\" + price;\r\n        precioServicio.classList.add('precio');\r\n        cantidad += price;\r\n\r\n        // Colocar texto y precio en el div\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        serviciosCita.appendChild(contenedorServicio);\r\n    });\r\n    resumenDiv.appendChild(headingCita);\r\n    resumenDiv.appendChild(fechaCita);\r\n    resumenDiv.appendChild(horaCita);\r\n\r\n    resumenDiv.appendChild(serviciosCita);\r\n    \r\n    const headingCarrito = document.createElement('H3');\r\n    headingCarrito.textContent = 'Resumen del Carrito';\r\n\r\n    // Mostrar el resumen\r\n    const productosCarrito = document.createElement('DIV');\r\n    productosCarrito.classList.add('resumen-Productos');\r\n    productosCarrito.appendChild(headingCarrito);\r\n    let cont = 1;\r\n    // Iterar sobre el arreglo de Productos\r\n    productos.forEach(async producto => {\r\n        const {id} = producto;\r\n\r\n        const resultProductSelected = await fetch(`/api/owner/inventario/${id}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const productSelected = await resultProductSelected.json();\r\n\r\n        const {inventory_name, price} = productSelected;\r\n    \r\n        const contenedorproducto = document.createElement('DIV');\r\n        contenedorproducto.classList.add('contenedor-producto');\r\n\r\n        const textoproducto = document.createElement('P');\r\n        textoproducto.textContent = inventory_name;\r\n        \r\n        const precioproducto = document.createElement('P');\r\n        precioproducto.textContent = \"$\" + price;\r\n        precioproducto.classList.add('precio');\r\n        \r\n        // Colocar texto y precio en el div\r\n        contenedorproducto.appendChild(textoproducto);\r\n        contenedorproducto.appendChild(precioproducto);\r\n\r\n        const contenedorPrecios = document.createElement(\"div\");\r\n        contenedorPrecios.classList.add(\"contenedor-precio\");\r\n\r\n        const input = document.querySelector(\"#quantity_product_\" + cont);\r\n        \r\n        const quantity = document.createElement(\"p\");\r\n        quantity.textContent = \"Cantidad seleccionada: \" + input.value;\r\n        \r\n        const subtotal = document.createElement(\"p\");\r\n        subtotal.textContent =\"Subtotal: \" + price*input.value;\r\n        cantidad += price*input.value;\r\n        contenedorPrecios.appendChild(quantity);\r\n        contenedorPrecios.appendChild(subtotal);\r\n        \r\n        productosCarrito.appendChild(contenedorproducto);\r\n        productosCarrito.appendChild(contenedorPrecios);\r\n        cont++;\r\n    });\r\n\r\n    const cantidadPagar = pay();\r\n\r\n    resumenDiv.appendChild(productosCarrito);\r\n    resumenDiv.appendChild(cantidadPagar);\r\n    cantidad = 0;\r\n    // Button for reservation\r\n    const btnReserve = document.createElement(\"button\");\r\n    btnReserve.classList.add(\"btn-principal\");\r\n    btnReserve.classList.add(\"btn-reservar\");\r\n    btnReserve.textContent = \"Realizar compra\";\r\n    btnReserve.onclick = makeAnAppointment;\r\n\r\n    resumenDiv.appendChild(btnReserve);\r\n}\r\n\r\nasync function selectQuantity(){\r\n    const select = document.querySelector(\"#num_products\");\r\n    // Clean the display for the new array\r\n    while (select.firstChild) {\r\n        select.removeChild(select.firstChild);\r\n    }\r\n    let cont = 1;\r\n    carrito[\"productos\"].forEach(async product => {\r\n        const {id} = product;\r\n        const resultProductSelected = await fetch(`/api/owner/inventario/${id}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const productSelected = await resultProductSelected.json();\r\n        const {inventory_name} = productSelected;\r\n        const layout = document.createElement(\"div\");\r\n        layout.classList.add(\"list-product\");\r\n        const text = document.createElement(\"p\");\r\n        text.textContent = inventory_name;\r\n        const input = document.createElement(\"input\");\r\n        input.type = \"number\";\r\n        input.id = \"quantity_product_\" + cont;\r\n        layout.appendChild(text);\r\n        layout.appendChild(input);\r\n        select.appendChild(layout);\r\n        cont++;\r\n    });\r\n}\r\n\r\nasync function mostrarResumenProducts() {\r\n    // Destructuring\r\n    const {productos} = carrito;\r\n\r\n    // Seleccionar el resumen\r\n    const resumenDiv = document.querySelector('#resumen');\r\n    \r\n    // Limpia el HTML previo\r\n    while (resumenDiv.firstChild) {\r\n        resumenDiv.removeChild(resumenDiv.firstChild);\r\n    }\r\n    // validación de objeto\r\n    if (carrito[\"productos\"].length == 0) {\r\n        const noProductos = document.createElement('P');\r\n        noProductos.textContent = 'Falta seleccionar algun producto';\r\n        noProductos.classList.add('invalidar-carrito');\r\n\r\n        // agregar a resumen Div\r\n        resumenDiv.appendChild(noProductos);\r\n        /*Swal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: 'Faltan datos de Productos, hora, fecha!',\r\n        })*/\r\n        return;\r\n    }\r\n\r\n    const headingCarrito = document.createElement('H3');\r\n    headingCarrito.textContent = 'Resumen del Carrito';\r\n\r\n    // Mostrar el resumen\r\n    const productosCarrito = document.createElement('DIV');\r\n    productosCarrito.classList.add('resumen-Productos');\r\n    productosCarrito.appendChild(headingCarrito);\r\n    let cont = 1;\r\n    // Iterar sobre el arreglo de Productos\r\n    productos.forEach(async producto => {\r\n        const {id} = producto;\r\n\r\n        const resultProductSelected = await fetch(`/api/owner/inventario/${id}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        const productSelected = await resultProductSelected.json();\r\n\r\n        const {inventory_name, price} = productSelected;\r\n    \r\n        const contenedorproducto = document.createElement('DIV');\r\n        contenedorproducto.classList.add('contenedor-producto');\r\n\r\n        const textoproducto = document.createElement('P');\r\n        textoproducto.textContent = inventory_name;\r\n        \r\n        const precioproducto = document.createElement('P');\r\n        precioproducto.textContent = \"$\" + price;\r\n        precioproducto.classList.add('precio');\r\n        \r\n        // Colocar texto y precio en el div\r\n        contenedorproducto.appendChild(textoproducto);\r\n        contenedorproducto.appendChild(precioproducto);\r\n\r\n        const contenedorPrecios = document.createElement(\"div\");\r\n        contenedorPrecios.classList.add(\"contenedor-precio\");\r\n\r\n        const input = document.querySelector(\"#quantity_product_\" + cont);\r\n        \r\n        const quantity = document.createElement(\"p\");\r\n        quantity.textContent = \"Cantidad seleccionada: \" + input.value;\r\n        \r\n        const subtotal = document.createElement(\"p\");\r\n        subtotal.textContent =\"Subtotal: \" + price*input.value;\r\n        cantidad += price*input.value;\r\n        contenedorPrecios.appendChild(quantity);\r\n        contenedorPrecios.appendChild(subtotal);\r\n        \r\n        productosCarrito.appendChild(contenedorproducto);\r\n        productosCarrito.appendChild(contenedorPrecios);\r\n        cont++;\r\n    });\r\n\r\n    const cantidadPagar = pay();\r\n\r\n    resumenDiv.appendChild(productosCarrito);\r\n    resumenDiv.appendChild(cantidadPagar);\r\n    cantidad = 0;\r\n    // Button for reservation\r\n    const btnReserve = document.createElement(\"button\");\r\n    btnReserve.classList.add(\"btn-principal\");\r\n    btnReserve.classList.add(\"btn-reservar\");\r\n    btnReserve.textContent = \"Realizar compra\";\r\n    btnReserve.onclick = makeAnAppointment;\r\n\r\n    resumenDiv.appendChild(btnReserve);\r\n}\r\n\r\nfunction pay(){\r\n    const cantidadPagar = document.createElement('P');\r\n    cantidadPagar.classList.add('total');\r\n    setTimeout(() => {\r\n        cantidadPagar.innerHTML = `<span>Total a Pagar:  </span> $${cantidad}`;;\r\n    }, 50);\r\n    return cantidadPagar;\r\n}\r\n\r\nasync function makeAnAppointment(){\r\n    try{\r\n        console.error(cita);\r\n        const resultadoCita = await fetch(`/api/user/${userId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n        makeAPurcharse();\r\n    } catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\nasync function makeAPurcharse(){\r\n    try{\r\n        console.error(carrito);\r\n        const resultadoCita = await fetch(`/api/user/${userId}`,{method: 'GET', headers: myHeaders, redirect: 'follow'});\r\n    } catch (e){\r\n        console.log(e);\r\n    }\r\n}"]}